{"remainingRequest":"/Users/dillonharris/code/RestaurantAnalytics/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dillonharris/code/RestaurantAnalytics/src/components/Restaurant.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dillonharris/code/RestaurantAnalytics/src/components/Restaurant.vue","mtime":1604011409625},{"path":"/Users/dillonharris/code/RestaurantAnalytics/node_modules/cache-loader/dist/cjs.js","mtime":1603902559664},{"path":"/Users/dillonharris/code/RestaurantAnalytics/node_modules/babel-loader/lib/index.js","mtime":1603902558478},{"path":"/Users/dillonharris/code/RestaurantAnalytics/node_modules/cache-loader/dist/cjs.js","mtime":1603902559664},{"path":"/Users/dillonharris/code/RestaurantAnalytics/node_modules/vue-loader/lib/index.js","mtime":1603902595832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVzdGF1cmFudCcsCiAgcHJvcHM6IHsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBheGlvcy5nZXQoYGh0dHBzOi8vanlldjgybWxraS5leGVjdXRlLWFwaS51cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9kZXZUZXN0MS9yZXN0YXVyYW50LzFgKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5yZXN0YXVyYW50ID0gcmVzcG9uc2UuZGF0YVswXQogICAgICB9KQogICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfSkKICAgIC8vIGh0dHBzOi8vY29ycy1hbnl3aGVyZS5oZXJva3VhcHAuY29tLwogICAgYXhpb3MuZ2V0KGBodHRwczovL2p5ZXY4Mm1sa2kuZXhlY3V0ZS1hcGkudXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vZGV2VGVzdDEvc3RhZmYvMWApIC8vIGdldHMgY2hlZiBhbmQgd2FpdGVyCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmNoZWYgPSByZXNwb25zZS5kYXRhLmNoZWZbMF0KICAgICAgICB0aGlzLndhaXRlciA9IHJlc3BvbnNlLmRhdGEud2FpdGVyWzBdCiAgICAgIH0pCiAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICB9KQoKICAgIGF4aW9zLmdldChgaHR0cHM6Ly9qeWV2ODJtbGtpLmV4ZWN1dGUtYXBpLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tL2RldlRlc3QxL21lbnUvMWApCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLm1lbnUgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICB9KQoKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdGF1cmFudDoge30sCiAgICAgIGNoZWY6IHt9LAogICAgICB3YWl0ZXI6IHt9LAogICAgICBtZW51OiBbXSwKICAgICAgc2VsZWN0ZWRJdGVtczogW10sCiAgICAgIHN1YlRvdGFsOiAwLjAwLAogICAgICB0b3RhbDogMC4wMCwKICAgICAgcGFydHlOYW1lOiAiIiwKICAgICAgdGlwQW1vdW50czogWwogICAgICAgICIxNSUiLAogICAgICAgICIyMCUiLAogICAgICAgICIyNSUiCiAgICAgIF0sCiAgICAgIHRpcEFtb3VudDogMCwKICAgICAgbnVtUGVvcGxlOiAwLAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldFJlc3RhdXJhbnQgKCkgewogICAgICByZXR1cm4gIlBsYWNlSG9sZGVyIFJlc3RhdXJhbnQiCiAgICB9LAogICAgZ2V0Q2hlZiAoKSB7CiAgICAgIHJldHVybiAiUGxhY2VIb2xkZXIgQ2hlZiIKICAgIH0sCiAgICBnZXRXYWl0ZXIgKCkgewogICAgICByZXR1cm4gIlBsYWNlSG9sZGVyIFdhaXRlciIKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXROdW1QZW9wbGUgKGUpIHsKICAgICAgdGhpcy5udW1QZW9wbGUgPSBbcGFyc2VJbnQoZSldCiAgICB9LAogICAgc2V0VGlwQW1vdW50IChlKSB7CiAgICAgIGxldCBwZXJjZW50YWdlID0gcGFyc2VJbnQoZSwgMTApLzEwMAogICAgICB0aGlzLnRpcEFtb3VudCA9IHRoaXMuZ2V0U3ViVG90YWwgKiBwZXJjZW50YWdlCiAgICB9LAogICAgc3VibWl0T3JkZXIgKCkgewogICAgICBheGlvcy5wb3N0KGBodHRwczovL2p5ZXY4Mm1sa2kuZXhlY3V0ZS1hcGkudXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vZGV2VGVzdDEvc3VibWl0LW9yZGVyYCwgeyBwYXJ0eTogdGhpcy5nZXRQYXJ0eSgpLCBzZWxlY3RlZF9pdGVtczogdGhpcy5nZXRTZWxlY3RlZE1lbnVJdGVtcygpfSkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0U2VsZWN0ZWRNZW51SXRlbXMgKCkgewogICAgICBsZXQgbGlzdCA9IFtdCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGlzdC5wdXNoKHRoaXMuc2VsZWN0ZWRJdGVtc1tpXS5tZW51X2lkKQogICAgICB9CiAgICAgIHJldHVybiBsaXN0CiAgICB9LAogICAgc2VsZWN0SXRlbSAoZSkgewogICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBlCiAgICAgIC8vIHRoaXMuZ2V0UHJpY2VTZWxlY3RlZEl0ZW1zKCkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RlZEl0ZW1zKQogICAgfSwKICAgIGdldFByaWNlU2VsZWN0ZWRJdGVtcyAoKSB7CiAgICAgIGxldCB0b3RhbCA9IDAuMDAKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgdG90YWwgKz0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEl0ZW1zW2ldLmN1c3RvbWVyX2Nvc3QudG9GaXhlZCgyKSkKICAgICAgfQogICAgICByZXR1cm4gdG90YWwudG9GaXhlZCgyKQogICAgfSwKICAgIGdldFRvdGFsUHJpY2UgKCkgewogICAgICByZXR1cm4gIiQ0MC4wMCIKICAgIH0sCiAgICBnZXRQYXJ0eSAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY2hlZl9pZDogdGhpcy5jaGVmLmVtcGxveWVlX2lkLAogICAgICAgIHdhaXRlcl9pZDogdGhpcy53YWl0ZXIuZW1wbG95ZWVfaWQsCiAgICAgICAgcGFydHlfbmFtZTogdGhpcy5wYXJ0eU5hbWUsCiAgICAgICAgYnVzaW5lc3NfaWQ6IHRoaXMucmVzdGF1cmFudC5idXNpbmVzc19pZCwKICAgICAgICB0aXBfYW1vdW50OiAuMjUKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Restaurant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Restaurant.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container class=\"mx-auto\">\n    <v-row>\n      <v-col>\n        <span>\n          Restaurant Name: {{restaurant.business_name || \"restaurant.name\"}}\n        </span>\n      </v-col>\n      <v-col>\n        <span>\n          Chef On Duty: {{chef.first_name + \" \" + chef.last_name || \"chef.name\"}}\n        </span>\n      </v-col>\n      <v-col>\n        <span>\n          Your Waiter: {{waiter.first_name + \" \" + waiter.last_name || \"waiter.name\"}}\n        </span>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-text-field\n        v-model=\"partyName\"\n        label=\"Enter Party Name\"\n        outlined\n      />\n    </v-row>\n    <v-row>\n      <v-select\n        :items=\"[1,2,3,4,5,6,7,8,9,10]\"\n        label=\"Number In Group\"\n        outlined\n        @input=\"setNumPeople($event)\"\n      />\n    </v-row>\n    <v-row\n      v-for=\"person in numPeople\"\n      :key=\"person\"\n    >\n      <v-select\n        :key=\"'select-'+person\"\n        :items=\"menu\"\n        label=\"Select Items to Order\"\n        outlined\n        multiple\n        item-text=\"item_name\"\n        return-object\n        @change=\"selectItem($event)\"\n      />\n    </v-row>\n    <v-row>\n      <span>\n        Sub Total: {{getPriceSelectedItems()}}\n      </span>\n    </v-row>\n    <v-row>\n      <v-select\n        :items=\"tipAmounts\"\n        label=\"Tip Amount\"\n        outlined\n        @input=\"setTipAmount($event)\"\n      />\n    </v-row>\n    <v-row>\n      <v-btn\n        width=\"100%\"\n        elevation=\"2\"\n        x-large\n        @click=\"submitOrder()\"\n      >\n        Pay\n      </v-btn>\n    </v-row>\n    <v-row>\n      <span>\n        Total: {{total}}\n      </span>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'Restaurant',\n  props: {\n  },\n  mounted() {\n    axios.get(`https://jyev82mlki.execute-api.us-west-2.amazonaws.com/devTest1/restaurant/1`)\n      .then(response => {\n        this.restaurant = response.data[0]\n      })\n      .catch(e => {\n        console.log(e)\n      })\n    // https://cors-anywhere.herokuapp.com/\n    axios.get(`https://jyev82mlki.execute-api.us-west-2.amazonaws.com/devTest1/staff/1`) // gets chef and waiter\n      .then(response => {\n        this.chef = response.data.chef[0]\n        this.waiter = response.data.waiter[0]\n      })\n      .catch(e => {\n        console.log(e)\n      })\n\n    axios.get(`https://jyev82mlki.execute-api.us-west-2.amazonaws.com/devTest1/menu/1`)\n      .then(response => {\n        this.menu = response.data\n      })\n      .catch(e => {\n        console.log(e)\n      })\n\n  },\n  data () {\n    return {\n      restaurant: {},\n      chef: {},\n      waiter: {},\n      menu: [],\n      selectedItems: [],\n      subTotal: 0.00,\n      total: 0.00,\n      partyName: \"\",\n      tipAmounts: [\n        \"15%\",\n        \"20%\",\n        \"25%\"\n      ],\n      tipAmount: 0,\n      numPeople: 0,\n    }\n  },\n  computed: {\n    getRestaurant () {\n      return \"PlaceHolder Restaurant\"\n    },\n    getChef () {\n      return \"PlaceHolder Chef\"\n    },\n    getWaiter () {\n      return \"PlaceHolder Waiter\"\n    },\n  },\n  methods: {\n    setNumPeople (e) {\n      this.numPeople = [parseInt(e)]\n    },\n    setTipAmount (e) {\n      let percentage = parseInt(e, 10)/100\n      this.tipAmount = this.getSubTotal * percentage\n    },\n    submitOrder () {\n      axios.post(`https://jyev82mlki.execute-api.us-west-2.amazonaws.com/devTest1/submit-order`, { party: this.getParty(), selected_items: this.getSelectedMenuItems()})\n        .then(response => {\n          console.log(response)\n          this.total = response.data\n        })\n        .catch(e => {\n          console.log(e)\n        })\n    },\n    getSelectedMenuItems () {\n      let list = []\n      for (let i = 0; i < this.selectedItems.length; i++) {\n        list.push(this.selectedItems[i].menu_id)\n      }\n      return list\n    },\n    selectItem (e) {\n      this.selectedItems = e\n      // this.getPriceSelectedItems()\n      // console.log(this.selectedItems)\n    },\n    getPriceSelectedItems () {\n      let total = 0.00\n      for (let i = 0; i < this.selectedItems.length; i++) {\n\n        total += parseInt(this.selectedItems[i].customer_cost.toFixed(2))\n      }\n      return total.toFixed(2)\n    },\n    getTotalPrice () {\n      return \"$40.00\"\n    },\n    getParty () {\n      return {\n        chef_id: this.chef.employee_id,\n        waiter_id: this.waiter.employee_id,\n        party_name: this.partyName,\n        business_id: this.restaurant.business_id,\n        tip_amount: .25\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n"]}]}